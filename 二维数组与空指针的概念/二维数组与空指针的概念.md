二维数组与空指针的概念

package prototype;


public class Song2Darrays {  //二维数组与空指针的概念;
	static Song2Darrays a; //类中声明静态引用变量不初始化为null;在装载类的时候会自动初始化为null;
	int b;  //未初始化的类中局部基本类型变量,在实例化对象时会自动初始化为0;
	int[]bb;//未初始化的类中局部引用变量,在实例化对象时会自动初始化为null;
	static String yy;
	
	public static void main(String[] args) {
		System.out.println(a);//null;
		Song2Darrays a1=new Song2Darrays();
		System.out.println(a1.b);//0;
		System.out.println(a1.bb);//null;
		
		int aa2; //等待被初始化的变量,不然无意义;
		//System.out.println(aa2);编译报错：未初始化;与类中声明的局部变量不用,在实例化对象时类中未初始化的局部变量会自动初始化为0;
		
		int[] a = new int[1];
		System.out.println(a[0]);//0; 数组在初始化后元素被初始化为0;
		
		int[]ary1={3,4,5};
		//ary1 = {3,4,5,6};  //这里会报错:Array constants can only be used in initializers,只有初始化一个数组时才能用这种静态赋值方式;
		int[]ary2=new int[]{4,5,6,7};
		System.out.println(ary2);
		int[]ary3={2,3};
		
		int[][]ary2D={ary1,ary2,ary3}; //二维数组静态初始化;
		
		System.out.println(ary2D[1][1]);// 5, ary2D数组中第二个元素(也就是第二个ary1数组)的第一个元素(ary1数组中的第二个元素是5);
		
		ary2D= new int[2][3];//动态初始化二维数组;
		
		System.out.println(ary2D.length); //ary2D数组的长度为2,说明上一条语句的第一个参数是ary2D数组的元素个数,第二个参数是其元素代表的数组它自己的元素个数;
		
		ary2D= new int[2][];//初始化一个一维数组其中元素都是为null的数组对象; 这里可以这样声明的原因是:ary2D在声明new int[2]时已经声明了其元素的个数,其实这个数组的初始化已经完成了,
		                    //就如同声明 String [] x = new String[2]; 一样,而其中元素的内容将被初始化为一个初值null; 不同的是ary2D的元素本身又是一个数组,那就可以选择不对其进行初始化
		                    //因为此时它只是ary2D数组的一个元素而已,不对它进行初始化数组也会自动给它一个初值,数组为对象类型,所以这里会自动初始化它为null;相当于声明了元素数组int [] x = null;
                            //所以这里要注意的是初始化2维数组时第一个参数为这个数组的元素个数,第二个参数才是其数组元素自己的元素个数,可以声明,相当于在次数就把这个数组元素初始化了,也可以不初始化,
		                    //原数组会将它初始化为一个初值;这种初始化2维数组的方法是有实际目的和意义的,看下例:
		
		ary2D [0] = new int[]{1,2,3};  //将ary2D的第一个元素,一个int数组初始化,只有用new初始化了才会真正去分配空间;
		ary2D [1] = new int[]{4,5,6,7,8,9}; //第二个元素代表的int数组的长度和第一个不同,这就是一个很好的例子说明了2维数组需要提供暂时不初始化分配其数组元素空间的原因,一旦分配了,那其长度将会统一;
		
		//注意,在ary2D数组的元素数组还未被new初始化,而只是被原数组初始化了初值null时,它还未被分配空间,所以ary2D[1][0]=1; 这样的调用会出现空指向异常,原因同下：
		
		int[] a2 = null; //数组被初始化为null,但是并未分配空间; 注意：null;在java中只是一个标识,代表初始化了,此引用变量在栈中分配了地址,但是此变量中存放的指向地址为空（并无任何指向）,在堆中也无相应的内存被分配,只有new了才会去分配内存;
		int[] a3; //其意义不同于上式,a3并未被初始化,虽然栈中有保存a3这个引用变量的内存,但是这个引用变量内存中无任何东西,连null标识也没有,被视为未初始化的变量,若直接使用便会发生编译报错;
		//a2[0]=1;   空指向异常,由于数组并未分配空间,所以赋值无意义;
		
		System.out.println(a2);//null;
		//System.out.println(a3);编译报错：变量未初始化;
		//System.out.println(a2[0]);//空指向异常
		
		a3=new int[2];  //之前未初始化的数组被初始化了;
		System.out.println(a3[0]); //0
		
		int[]x = new int[0]; //虽然有自己的地址,但是未给任何元素开放空间;
		System.out.println(x.length); //0,不会报空指针异常;
		int[]y = null;  //null数组,没有自己的地址;
		
		int[]z = new int[]{1,2,};
		System.out.println(z.length); //2;
		
		String []xx = new String[2];
		System.out.println(yy==xx[0]); //true; 进一步证明了所有被标记为null的元素实际都指向一个存放了Null标签的地址;
	}
}

//总结:
//对于声明变量为null或者不初始化：如果在类中声明,那么静态变量在类装载时自动初始化为null/0;局部变量在实例化对象时初始化为null/0;
//而如果在方法中直接声明引用变量而暂时无赋值的必要,建议声明为null,因为它将被视为已初始化过的变量,至少在编译时不会报错,也可利用null标识来做一些==之类的操作,运行时可能会发生空指向异常;
//如果在方法中直接声明引用变量而不初始化,那之后一旦使用则会编译报错;
//方法中声明基本类型变量也是如此,建议声明为=0;而不是不初始化,容易造成编译报错;

//二维数组:
//1.元素是数组的数组：二维数组;
//2.本质上JAVA没有二维数组，二维数组是由一维对象数组中元素为数组构成的;

//空数组:
//一个长度为0的数组我们称之为"空数组",空数组是一个真正的对象,只是包含元素个数为0;
//null数组是一个空引用;


